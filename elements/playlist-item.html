<link rel="import" href="../../polymer/polymer-element.html">

<dom-module id="playlist-item">

  <template>
    <style>
      .playlist-item-thumbnail {
        background-position: 0 -6px;
        background-size: 64px 48px;
        height: 36px;
        width: 64px;
      }

      :host([selected]) .playlist-item {
        background: red;
      }
    </style>

    <div class="playlist-item" on-click="_handleClick">
      <div>[[_getPosition(index)]]</div>
      <div 
        class="playlist-item-thumbnail" 
        style="background-image: url('[[thumbnail]]')"></div>
      <div>[[title]]</div>    
    </div>
  </template>

  <script>
    class PlaylistItem extends Polymer.Element {
      static get is() {
        return 'playlist-item';
      }

      static get properties() {
        return {
          index: Number,
          thumbnail: String,
          title: String,
          selected: {
            type: Boolean,
            value: false,
            reflectToAttribute: true
          }
        }
      }

      _getPosition(index) {
        return index + 1;
      }

      _handleClick(event) {
        this.dispatchEvent(
          new CustomEvent('cue', { bubbles: true, composed: true, detail: this.index })
        )
      }
    }

    customElements.define(PlaylistItem.is, PlaylistItem);
  </script>

</dom-module>